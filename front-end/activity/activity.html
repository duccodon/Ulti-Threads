<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Ulti Threads</title>

    <link rel= "stylesheet" href= "https://maxst.icons8.com/vue-static/landings/line-awesome/line-awesome/1.3.0/css/line-awesome.min.css" >
    <link rel= "stylesheet" href= "https://maxst.icons8.com/vue-static/landings/line-awesome/font-awesome-line-awesome/css/all.min.css" >
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">

    <link rel="stylesheet" href="./activity.css">
</head>

<body>
    <nav>
        <div class="container">
            <h2 class="logo">
                Ulti Threads
            </h2>
            <div class="home">
                <h2>Search</h2>
            </div>

            <div class="log-in">
                <label class="btn btn-primary" for="log-in">Log out</label>
            </div>

            <div class="menu-item" id="top-function">
                <span><i class="fa-solid fa-grip-lines"></i></span>
                <div class="functionPopup" id="top-functionPopup">
                    <div>
                        <div class="popupBody">
                            <b>Theme</b>
                        </div>
                        <div class="popupBody">
                            <b>Theme</b>
                        </div>
                        <div class="popupBody">
                            <b>Report</b>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <main>
        <div class="container">
            <div class="left">
                <div class="sidebar">
                    <div class="group">
                        <a href="../index.html" class="menu-item"><span><i class="fa-solid fa-house"></i></span></a>
                        <br>
                        <a href="../search/search.html" class="menu-item"><span><i class="fa-solid fa-magnifying-glass"></i></span></a>
                        <br>
                        <a href="#" class="menu-item"><span><i class="fa-solid fa-plus"></i></span></a>
                        <br>
                        <a href="./activity.html" class="menu-item active" id="notification"><span><i class="fa-regular fa-heart"><small class="notification-count" id="num-of-noti">10</small></i></span></a>
                        <br>
                        <a href="../profile/profile.html" class="menu-item"><span><i class="fa-regular fa-user"></i></span></a>
                        <br>
                    </div>
                    <!--popup-->
                    <div class="menu-item" id="sidebar-function">
                        <span><i class="fa-solid fa-grip-lines"></i></span>
                        <div class="functionPopup" id="sidebar-functionPopup">
                            <div>
                                <div class="popupBody">
                                    <b>Theme</b>
                                </div>
                                <div class="popupBody">
                                    <b>Theme</b>
                                </div>
                                <div class="popupBody">
                                    <b>Report</b>
                                </div>
                            </div>
                        </div>
                    </div>
                    <br>
                </div>
            </div>

            <div class="middle">
                <div class="create-post">
                    <div class="search-bar">
                        <i class="fa-solid fa-magnifying-glass"></i>
                        <input type="search" placeholder="Searching">
                    </div>
                </div>

                <div class="feeds">
                    <div class="feed unread" >
                        <a href="#">
                            <div class="main-content">
                                <img src="../../public/Image/1.jpg" class="profile-photo">
                                <div class="user">
                                    <div class="body-content">
                                        <div class="ingo">
                                            <h3>Username</h3>
                                            <h3 style="color: #ccc;">Follow you</h3>
                                        </div>
                                    </div>

                                    <div class="log-in">
                                        <label class="btn btn-post" for="log-in">Follow</label>
                                    </div>
                                </div>
                            </div>
                        </a>
                    </div>

                    <div class="feed unread">
                        <a href="#">
                            <div class="main-content">
                                <img src="../../public/Image/1.jpg" class="profile-photo">
                                <div class="user">
                                    <div class="body-content">
                                        <div class="ingo">
                                            <h3>Username</h3>
                                            <h3 style="color: #ccc;">Like your post</h3>
                                            <div class="content">
                                                Lorem ipsum dolor sit, amet consectetur adipisicing elit. Placeat, officiis! Illum officia nihil perferendis eum possimus libero ipsam itaque. Delectus unde est eaque nam ratione corrupti, molestias similique animi nihil. 
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </a>
                    </div>

                    <div class="feed">
                        <a href="#">
                            <div class="main-content">
                                <img src="../../public/Image/1.jpg" class="profile-photo">
                                <div class="user">
                                    <div class="body-content">
                                        <div class="ingo">
                                            <h3>Username</h3>
                                            <h3 style="color: #ccc;">Repost your post</h3>
                                            <div class="content">
                                                Lorem ipsum dolor sit amet consectetur adipisicing elit. Similique possimus distinctio a sunt incidunt officia neque tempore modi veniam eum veritatis saepe expedita quidem doloribus nesciunt labore ex, alias obcaecati. 
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </a>
                    </div>

                    <div class="feed unread">
                        <a href="#">
                            <div class="main-content">
                                <img src="../../public/Image/1.jpg" class="profile-photo">
                                <div class="user">
                                    <div class="body-content">
                                        <div class="ingo">
                                            <h3>Username</h3>
                                            <h3 style="color: #ccc;">Recommend</h3>
                                            <div class="content">
                                                Post Lorem ipsum dolor sit amet consectetur adipisicing elit. Deserunt quis voluptates ducimus, reiciendis exercitationem error itaque voluptatum eligendi magni blanditiis et soluta cum maiores laudantium nam illum sapiente eum assumenda?
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </a>
                    </div>

                    <div class="feed unread" >
                        <a href="#">
                            <div class="main-content">
                                <img src="../../public/Image/1.jpg" class="profile-photo">
                                <div class="user">
                                    <div class="body-content">
                                        <div class="ingo">
                                            <h3>Username</h3>
                                            <h3 style="color: #ccc;">Follow you</h3>
                                        </div>
                                    </div>

                                    <div class="log-in">
                                        <label class="btn btn-post" for="log-in">Follow</label>
                                    </div>
                                </div>
                            </div>
                        </a>
                    </div>

                    <div class="feed unread">
                        <a href="#">
                            <div class="main-content">
                                <img src="../../public/Image/1.jpg" class="profile-photo">
                                <div class="user">
                                    <div class="body-content">
                                        <div class="ingo">
                                            <h3>Username</h3>
                                            <h3 style="color: #ccc;">Like your post</h3>
                                            <div class="content">
                                                Lorem ipsum dolor sit, amet consectetur adipisicing elit. Placeat, officiis! Illum officia nihil perferendis eum possimus libero ipsam itaque. Delectus unde est eaque nam ratione corrupti, molestias similique animi nihil. 
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </a>
                    </div>

                    <div class="feed">
                        <a href="#">
                            <div class="main-content">
                                <img src="../../public/Image/1.jpg" class="profile-photo">
                                <div class="user">
                                    <div class="body-content">
                                        <div class="ingo">
                                            <h3>Username</h3>
                                            <h3 style="color: #ccc;">Repost your post</h3>
                                            <div class="content">
                                                Lorem ipsum dolor sit amet consectetur adipisicing elit. Similique possimus distinctio a sunt incidunt officia neque tempore modi veniam eum veritatis saepe expedita quidem doloribus nesciunt labore ex, alias obcaecati. 
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </a>
                    </div>
                    
                    <div class="feed unread">
                        <a href="#">
                            <div class="main-content">
                                <img src="../../public/Image/1.jpg" class="profile-photo">
                                <div class="user">
                                    <div class="body-content">
                                        <div class="ingo">
                                            <h3>Username</h3>
                                            <h3 style="color: #ccc;">Recommend</h3>
                                            <div class="content">
                                                Post Lorem ipsum dolor sit amet consectetur adipisicing elit. Deserunt quis voluptates ducimus, reiciendis exercitationem error itaque voluptatum eligendi magni blanditiis et soluta cum maiores laudantium nam illum sapiente eum assumenda?
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </a>
                    </div>
                </div>
            </div>

        </div>
    </main>

    <script src="../index.js"></script>
    <script>
        const unreadMessage = document.querySelectorAll('.unread');
        const unreadMessageCount = document.getElementById('num-of-noti');
        const notificationElement = document.querySelector('#notification');

        unreadMessageCount.innerText = unreadMessage.length;

        function updateNotificationDisplay() {
            const newUnreadMessage = document.querySelectorAll('.unread').length;
            unreadMessageCount.innerText = newUnreadMessage;

            // If no unread messages, hide the <small> element
            if (newUnreadMessage === 0) {
                notificationElement.querySelector('.notification-count').style.display = 'none';
            } else {
                notificationElement.querySelector('.notification-count').style.display = 'inline';
            }
        }

        unreadMessage.forEach((message) => {
            message.addEventListener('click', () => {
                message.classList.remove('unread');
                updateNotificationDisplay(); 
            });
        });
    </script>
</body>
</html>